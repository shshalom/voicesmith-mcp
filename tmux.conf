# Agent Voice MCP — tmux config (invisible mode)
# Used when wrapping claude in tmux for wake word support.
# The user should not notice they're inside tmux.

# ─── Core ────────────────────────────────────────────────────────────────────
set -g status off              # No status bar
set -g mouse on                # Pass mouse events through
set -g escape-time 0           # No delay on escape key
set -g remain-on-exit off      # Don't keep pane after process exits

# ─── Prefix key (avoid stealing common keys) ────────────────────────────────
# C-b conflicts with cursor-back / app keybindings. Use C-] which is rarely
# used by CLI apps and won't interfere with Claude Code.
set -g prefix C-]
unbind C-b
bind C-] send-prefix

# ─── Extended keys (Shift+Return, Ctrl+Shift combos, etc.) ──────────────────
# Without this, tmux cannot distinguish Shift+Return from plain Return,
# breaking multi-line input in Claude Code.  Requires tmux 3.2+.
set -g extended-keys on
set -g extended-keys-format csi-u

# ─── Passthrough & transparency ──────────────────────────────────────────────
set -g set-clipboard on        # OSC 52 clipboard passthrough
set -g focus-events on         # Focus in/out events to the app
set -g allow-passthrough on    # Let apps send DCS passthrough sequences

# Note: destroy-unattached is NOT set — the session needs to survive
# in detached state for testing. It auto-cleans when claude exits
# because remain-on-exit is off.
